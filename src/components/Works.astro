---

export interface DateRange {
  since: Date;
  until?: Date;
}

export interface WorksData {
  companyName: string;
  dateRanges: DateRange[];
}

const works: WorksData[] = [
  {
    companyName: "株式会社Armoris",
    dateRanges: [
      { since: new Date("2020-10-01"), until: new Date("2021-03-31") },
      { since: new Date("2022-10-01") },
    ],
  },
  {
    companyName: "ファストドクター株式会社",
    dateRanges: [
      { since: new Date("2024-11-01") },
    ],
  },
  {
    companyName: "株式会社meing",
    dateRanges: [
      { since: new Date("2023-10-01") },
    ],
  },
  {
    companyName: "株式会社CoPalette",
    dateRanges: [
      { since: new Date("2024-10-15") },
    ],
  },
  {
    companyName: "株式会社NewBizz",
    dateRanges: [ 
      { since: new Date("2023-02-01") },
    ],
  },
  {
    companyName: "トゥギャッター株式会社",
    dateRanges: [
      { since: new Date("2022-10-01"), until: new Date("2024-03-31") },
    ],
  },
  {
    companyName: "株式会社Prokids",
    dateRanges: [
      { since: new Date("2019-10-01"), until: new Date("2021-03-31") },
      { since: new Date("2022-03-01"), until: new Date("2022-11-30") },
    ],
  },
];

const otherWorks: WorksData[] = [
  {
    companyName: "Sansan株式会社 (就業型インターン)",
    dateRanges: [
      { since: new Date("2022-09-16"), until: new Date("2022-09-27") },
      { since: new Date("2022-02-13"), until: new Date("2022-03-28") },
    ],
  },
  {
    companyName: "株式会社Recruit (就業型インターン)",
    dateRanges: [
      { since: new Date("2024-10-03"), until: new Date("2022-11-01") },
    ],
  },
  {
    companyName: "日経電子版インターン",
    dateRanges: [
      { since: new Date("2022-08-15"), until: new Date("2022-08-19") },
    ],
  },
  {
    companyName: "LINE株式会社 ハッカソンインターン",
    dateRanges: [
      { since: new Date("2023-08-16"), until: new Date("2023-09-01") },
    ],
  },
  {
    companyName: "STORES Tech camp (短期インターン)",
    dateRanges: [
      { since: new Date("2023-09-04"), until: new Date("2023-09-15") },
    ],
  },
]
---

<div id="works" class="w-full flex lg:flex-row flex-col">
  <div class="w-full text-center">
    <h2 class="text-3xl my-4 font-bold text-gray-900 leading-tight mb-2 border-t-4 border-b-4 border-gray-600 py-4">Works</h2>
    <ul class="container flex flex-col jusitfy-center items-center">
      {  
        works.map(work => 
          <div class="w-full md:w-3/4 lg:w-1/2 my-1">
            <li>
              <div class="flex md:flex-row flex-col md:items-center p-3 text-base text-gray-900 rounded-lg bg-gray-50  group  dark:bg-gray-600 dark:text-white">
                <div class="flex-row text-left">
                  <span class="ms-3 whitespace-break-spaces break-words">
                    <i class="fa fa-solid fa-building m-1"></i>
                    {work.companyName}</span>
                </div>
                <div class="flex-col flex ms-auto text-sm text-gray-500 dark:text-gray-400">
                  {work.dateRanges.map(dateRange => 
                    <span>
                      {dateRange.since.toLocaleDateString('ja-JP')} ~ {dateRange.until?.toLocaleDateString('ja-JP') ?? "Present"}
                    </span>
                  )}
                </div>
              </div>
            </li>
          </div>
        ) 
      }
    </ul>
    
    <details class="w-full md:w-3/4 lg:w-1/2 my-4 mx-auto">
      <summary class="mx-4 cursor-pointer text-base font-semibold text-gray-700 hover:text-gray-900 py-2 px-4 bg-gray-100 hover:bg-gray-200 rounded border">
        短期・就業型インターン
      </summary>
      <ul class="mt-2 mx-4">
        {  
          otherWorks.map(work => 
            <div class="w-full my-1 mx-auto">
              <li>
                <div class="flex md:flex-row flex-col md:items-center p-3 text-base text-gray-900 rounded-lg bg-gray-50  group  dark:bg-gray-600 dark:text-white">
                  <div class="flex-row text-left">
                    <span class="ms-3 whitespace-break-spaces break-words">
                      <i class="fa fa-solid fa-building m-1"></i>
                      {work.companyName}</span>
                  </div>
                  <div class="flex-col flex ms-auto text-sm text-gray-500 dark:text-gray-400">
                    {work.dateRanges.map(dateRange => 
                      <span>
                        {dateRange.since.toLocaleDateString('ja-JP')} ~ {dateRange.until?.toLocaleDateString('ja-JP') ?? "Present"}
                      </span>
                    )}
                  </div>
                </div>
              </li>
            </div>
          ) 
        }
      </ul>
    </details>
  </div>
</div>
